# 转账资金流对比

## 微信转账

https://www.zhihu.com/question/33248701

从App中转账的特点，也就是收款方要确认收款之后，转账才算成功，可以反推在微信的转账中是存在一个虚拟的中间账户的。首先付款方会先被扣款，把转账金额的金额转被扣到虚拟中间账户上。付款方这一笔钱就被扣掉了，锁在中间账户上。而收款方选择接收款项的时候，中间账户才会把款项打到收款方。



## 比特币转账

https://segmentfault.com/a/1190000016757805

https://blog.csdn.net/wen294299195/article/details/80220651

https://zhuanlan.zhihu.com/p/121039362

https://blog.csdn.net/zcg_741454897/article/details/102796022

UTXO概念来"汇聚"成某个人的钱包，从中选中足够金额的BTC。

每一笔交易记录了时间、发送人、接收人和金额。那如果要计算A的余额，那么就要遍历所有跟A有关的交易，减去A发送的每一笔金额，并加上A接收的每一笔金额。

比特币系统中计算余额的方法也是类似这样。所以，要计算一个用户的比特币余额，就需要遍历整个交易的历史。而以太坊由于采用了Account模型，也就是采用余额的概念，所以不需要溯源整个交易历史。



### 比特币一笔交易是有效的，必须满足：

- 这个交易必须有一个有效的签名，来自花费的UTXO的**所有者**
- 被花费的UTXO的总金额必须 $\ge$ 该交易产生的UTXO金额

